<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>What's Wrong With My Puppet - OSDC 2016 - Felix Frank</title>

		<meta name="description" content="Slides for the Puppet debugging presentation">
		<meta name="author" content="Felix Frank">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/white.css" id="theme">

		<!-- Code syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">
				<section>
					<h1>What's Wrong With My Puppet?</h1>
					<h3>OSDC 2016, Berlin</h3>
				</section>

				<section>
					<h1>It's always something<br/>
					with software</h1>
				</section>

				<section>
					<p>Things with Puppet (e.g.)</p>
					<ol>
					<li>weird behavior of the agent or master</li>
					<li>the manifest or catalog fails</li>
					<li>complex manifests don't function as expected</li>
					</ol>
				</section>

				<section>
					<h3>1. Understanding behavior</h3>
					<img src="behavior.png">
				</section>

				<section>
					The hammer
					<h2>strace</h3>
					The wrench
					<h2>config print</h2>
				</section>

				<section>
					<section>
						<h1>Let's see it in action</h1>
					</section>

					<section>
						...insert demo screenshots here...
					</section>
				</section>

				<section>
					<h3>2. failure forensics</h3>
					<img src="cleanup.jpg">
				</section>

				<section>
					The master failing badly:
						<pre><code data-trim contenteditable>
err: Could not retrieve catalog from remote server:
	Error 400 on SERVER:
	undefined method `empty?' for nil:NilClass at
						</code></pre>
					The agent failing:
						<pre><code data-trim contenteditable>
Error: Failed to apply catalog:
	undefined method `ancestors' for nil:NilClass
						</code></pre>
				</section>

				<section>
					<h1>Needs some context!</h1>
					Meet the <code>--trace</code> option.
				</section>

				<section>
					<section>
						<h1>Let's see it in action</h1>
					</section>

					<section>
						...insert demo screenshots here...
					</section>
				</section>

				<section>
					<h3>3. it's working but it's weird</h3>
					<img src="weird.jpg">
				</section>

				<section>
					That feeling when...
					<pre><code data-trim contenteditable>
# in node alice
@@backup_job { 'alice_files': ... }
					</code></pre>
					...and nothing happens on <code>bob</code>
					<pre><code data-trim contenteditable>
Backup_job<<| |>>
					</code></pre>
				</section>

				<section>
					<h2>Non-functional resources<br/>
					are always awkward</h2>
					Debug mode is often inconclusive
				</section>

				<section>
					<h2>What you want to do<br/>
					is inspect the catalog</h2>
				</section>

				<section>
					<section>
						<h1>Let's do that then</h1>
					</section>

					<section>
						...insert demo screenshots here...
					</section>
				</section>

				<section>
					When Puppet really acts up though
					<h1>Use pry</h1>
				</section>

				<section>
					<section>
						When not in the debugging mood...
						<h1>Do get help</h1>
						<img src="help.gif"/>
					</section>

					<section>
						<h3>Ask Puppet</h3>
						<img src="ask.png"/>
						<a href="http://ask.puppet.com">http://ask.puppet.com</a>
					</section>

					<section>
						<h3>The Forge</h3>
						<img src="forge.png"/>
						<a href="http://forge.puppet.com">http://forge.puppet.com</a>
					</section>

					<section>
						<h3>The Mailing List</h3>
						<img src="group.png"/>
						<a href="https://groups.google.com/forum/#!forum/puppet-users">https://groups.google.com/forum/#!forum/puppet-users</a>
					</section>

					<section>
						Also there is IRC, Slack, PUGs...
						<img src="pugs.jpg"/>
					</section>
				</section>

				<section>
					<h3>Thanks for listening</h3>
					<p>Images</p>
					<ul>
					<li>http://www.babygaga.com/buzz/show/1066/when-your-fur-baby-meets-your-human-baby-how-to-make-the-introduction-as-smooth-as-possible</li>
					<li>http://www.sammyspetboarding.com/cleaning.htm</li>
					<li>http://www.playbuzz.com/shacharo/5-reasons-why-llama-is-the-funniest-animal-ever</li>
					<li>http://i.giphy.com/c5eqVJN7oNLTq.gif</li>
					<li>http://www.ranker.com/list/cutest-pug-pictures/pet-project</li>
					</ul>
				</section>
			</div>

			<div id="myLogo" style="background: url(um-logo.png);
						position: absolute;
						bottom: 10px;
						right: 10px;
						width: 125px;
						height: 103px;">
			</div>

			<div id="myLogo" style="background: url(osdc-logo.png);
						position: absolute;
						bottom: 10px;
						left: 10px;
						width: 205px;
						height: 95px;">
			</div>
		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>

			// Full list of configuration options available at:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: false,
				progress: true,
				history: true,
				center: true,

				transition: 'slide', // none/fade/slide/convex/concave/zoom

				// Optional reveal.js plugins
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, condition: function() { return !!document.querySelector( 'pre code' ); }, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true },
					{ src: 'plugin/notes/notes.js', async: true }
				]
			});

		</script>

	</body>
</html>
